# Tyler Durden Telegram Bot

Telegram-бот с персоной Тайлера Дёрдена - агрессивный мотиватор, который дает конкретные планы действий.

## Установка и настройка

### 1. Установка зависимостей

```bash
pip install -r requirements.txt
```

### 2. Настройка переменных окружения

Создайте файл `.env` на основе `.env.example`:

```bash
cp .env.example .env
```

Откройте `.env` и заполните необходимые значения:

```env
# Обязательные параметры
TELEGRAM_TOKEN=your_telegram_bot_token_here  # Получите у @BotFather
PROXYAPI_KEY=your_proxyapi_key_here          # Ключ от ProxyAPI

# Необязательные параметры (можно оставить по умолчанию)
DAILY_LIMIT=3                    # Бесплатных запросов в день
PREMIUM_PRICE_STARS=500          # Цена Premium в Telegram Stars
SPAM_LIMIT=5                     # Максимум сообщений в минуту
MAX_HISTORY=20                   # Количество сообщений в истории

# Админ (необязательно)
ADMIN_USER_ID=                   # Ваш Telegram User ID для безлимитного доступа
```

### 3. Получение TELEGRAM_TOKEN

1. Откройте Telegram и найдите бота [@BotFather](https://t.me/BotFather)
2. Отправьте команду `/newbot`
3. Следуйте инструкциям для создания бота
4. Скопируйте полученный токен и вставьте его в `.env`

### 4. Получение PROXYAPI_KEY

1. Зарегистрируйтесь на [ProxyAPI](https://proxyapi.ru/)
2. Создайте API ключ в личном кабинете
3. Скопируйте ключ и вставьте его в `.env`

### 5. Запуск бота

```bash
python tyler.py
```

## Функционал

- **Бесплатный доступ**: 3 запроса в день
- **Premium подписка**: Безлимитные запросы (оплата через Telegram Stars)
- **Умная история**: Бот помнит контекст диалога
- **Антиспам**: Защита от флуда
- **Статистика**: Отслеживание использования

## Команды бота

- `/start` - Начало работы с ботом
- `/help` - Справка по функционалу
- `/premium` - Информация о Premium подписке
- `/stats` - Статистика использования

## Структура проекта

- `tyler.py` - Основной файл бота
- `users.db` - База данных пользователей (создается автоматически)
- `.env` - Конфигурация (создайте из `.env.example`)
- `.env.example` - Шаблон конфигурации

## Устранение проблем

### InvalidToken Error

Если вы видите ошибку:
```
telegram.error.InvalidToken: You must pass the token you received from https://t.me/Botfather!
```

**Решение**: Убедитесь, что:
1. Файл `.env` создан и находится в корне проекта
2. В `.env` указан правильный `TELEGRAM_TOKEN` от @BotFather
3. Токен скопирован полностью, без пробелов и переносов строк

### Пустой PROXYAPI_KEY

Если бот не отвечает на сообщения, проверьте, что `PROXYAPI_KEY` установлен в `.env`

## Лицензия

MIT
